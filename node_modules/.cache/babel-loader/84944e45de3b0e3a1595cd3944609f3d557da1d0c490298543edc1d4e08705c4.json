{"ast":null,"code":"import React,{useState}from\"react\";import Joi from\"joi\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AdminPage(){const[formData,setFormData]=useState({dataType:\"event\",title:\"\",description:\"\",image:\"\"});const[error,setError]=useState(\"\");const[success,setSuccess]=useState(\"\");// Joi validation schema\nconst schema=Joi.object({dataType:Joi.string().valid(\"event\",\"partner\",\"programming\").required(),title:Joi.string().min(3).max(100).required(),description:Joi.string().min(10).max(500).required(),image:Joi.string().uri().allow(\"\")// Optional image URL\n});const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const handleSubmit=e=>{e.preventDefault();// Client-side validation\nconst{error}=schema.validate(formData,{abortEarly:false});if(error){setError(error.details.map(err=>err.message).join(\", \"));setSuccess(\"\");return;}setError(\"\");// Make a POST request to your backend\nfetch(\"/api/admin\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(formData)}).then(res=>res.json()).then(data=>{if(data.success){setSuccess(\"Data successfully submitted!\");setError(\"\");setFormData({dataType:\"event\",title:\"\",description:\"\",image:\"\"});}else{setError(\"Error submitting data.\");setSuccess(\"\");}}).catch(error=>{console.error(\"Error:\",error);setError(\"An unexpected error occurred.\");setSuccess(\"\");});};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Admin Panel\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dataType\",children:\"Select Data Type:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"dataType\",id:\"dataType\",value:formData.dataType,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"event\",children:\"Event\"}),/*#__PURE__*/_jsx(\"option\",{value:\"partner\",children:\"Partner\"}),/*#__PURE__*/_jsx(\"option\",{value:\"programming\",children:\"Programming\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",value:formData.title,onChange:handleChange,placeholder:\"Enter Title\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",value:formData.description,onChange:handleChange,placeholder:\"Enter Description\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"image\",children:\"Image URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",id:\"image\",name:\"image\",value:formData.image,onChange:handleChange,placeholder:\"Enter Image URL\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error}),success&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"green\"},children:success})]});}export default AdminPage;","map":{"version":3,"names":["React","useState","Joi","jsx","_jsx","jsxs","_jsxs","AdminPage","formData","setFormData","dataType","title","description","image","error","setError","success","setSuccess","schema","object","string","valid","required","min","max","uri","allow","handleChange","e","name","value","target","handleSubmit","preventDefault","validate","abortEarly","details","map","err","message","join","fetch","method","headers","body","JSON","stringify","then","res","json","data","catch","console","className","children","onSubmit","htmlFor","id","onChange","type","placeholder","style","color"],"sources":["/home/ricogt/Desktop/CSCE 242/nsbe-react-website/src/pages/AdminPage.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Joi from \"joi\";\n\nfunction AdminPage() {\n  const [formData, setFormData] = useState({\n    dataType: \"event\",\n    title: \"\",\n    description: \"\",\n    image: \"\",\n  });\n\n  const [error, setError] = useState(\"\");\n  const [success, setSuccess] = useState(\"\");\n\n  // Joi validation schema\n  const schema = Joi.object({\n    dataType: Joi.string().valid(\"event\", \"partner\", \"programming\").required(),\n    title: Joi.string().min(3).max(100).required(),\n    description: Joi.string().min(10).max(500).required(),\n    image: Joi.string().uri().allow(\"\"), // Optional image URL\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    // Client-side validation\n    const { error } = schema.validate(formData, { abortEarly: false });\n    if (error) {\n      setError(error.details.map((err) => err.message).join(\", \"));\n      setSuccess(\"\");\n      return;\n    }\n    setError(\"\");\n\n    // Make a POST request to your backend\n    fetch(\"/api/admin\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(formData),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.success) {\n          setSuccess(\"Data successfully submitted!\");\n          setError(\"\");\n          setFormData({ dataType: \"event\", title: \"\", description: \"\", image: \"\" });\n        } else {\n          setError(\"Error submitting data.\");\n          setSuccess(\"\");\n        }\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n        setError(\"An unexpected error occurred.\");\n        setSuccess(\"\");\n      });\n  };\n\n  return (\n    <div className=\"admin-panel\">\n      <h1>Admin Panel</h1>\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label htmlFor=\"dataType\">Select Data Type:</label>\n          <select name=\"dataType\" id=\"dataType\" value={formData.dataType} onChange={handleChange}>\n            <option value=\"event\">Event</option>\n            <option value=\"partner\">Partner</option>\n            <option value=\"programming\">Programming</option>\n          </select>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"title\">Title:</label>\n          <input\n            type=\"text\"\n            id=\"title\"\n            name=\"title\"\n            value={formData.title}\n            onChange={handleChange}\n            placeholder=\"Enter Title\"\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"description\">Description:</label>\n          <textarea\n            id=\"description\"\n            name=\"description\"\n            value={formData.description}\n            onChange={handleChange}\n            placeholder=\"Enter Description\"\n            required\n          ></textarea>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"image\">Image URL:</label>\n          <input\n            type=\"url\"\n            id=\"image\"\n            name=\"image\"\n            value={formData.image}\n            onChange={handleChange}\n            placeholder=\"Enter Image URL\"\n          />\n        </div>\n        <button type=\"submit\">Submit</button>\n      </form>\n      {error && <p style={{ color: \"red\" }}>{error}</p>}\n      {success && <p style={{ color: \"green\" }}>{success}</p>}\n    </div>\n  );\n}\n\nexport default AdminPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}